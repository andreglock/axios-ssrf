import { Controller, Post, Inject, Param, Body } from '@nestjs/common';
import { VulnerableService } from './vulnerable.service';
import { LoggingTool } from '../tools/logging/logging.tool';

@Controller('search')
export class VulnerableController {
  constructor(private readonly vulnerableService: VulnerableService, @Inject(LoggingTool) private readonly loggingTool: LoggingTool) {
    this.loggingTool.setContext(VulnerableController.name);
  }

  @Post()
  getMoviesBySearch(@Body('searchWord') searchWord: string) {
    this.loggingTool.debug(`Called searchWord`);
    return this.vulnerableService.getMoviesBySearch(searchWord);
  }
}
